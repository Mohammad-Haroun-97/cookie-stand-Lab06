'use strict'

// let hours =['6:00 Am','7:00 Am','8:00 Am','9:00 Am','10:00 Am','11:00 Am','12:00 Pm','1:00 Pm','2:00 Pm', '3:00 Pm', '4:00 Pm', '5:00 Pm', '6:00 Pm', '7:00 Pm',  ];

// function random(min, max) {
//     return Math.floor(Math.random() * (max - min + 1) ) + min;
//   };

// let Seattle={

//     name: 'Seattle' ,
//     max: 65,
//     min: 23,
//     avg: 6.3,
//     total: 0,

//     randomCustomer: [],
//     avgCookiesPurchasedPerHour:[],

// getrandomCustomer : function () {
//     for (let i = 0; i < hours.length; i++) {

//         this.randomCustomer.push( random(this.min , this.max))
//     }

// },

// getavgCookiesPurchasedPerHour : function () {
//     for (let i = 0; i < hours.length; i++) {

//         this.avgCookiesPurchasedPerHour.push(Math.ceil(this.randomCustomer[i]*this.avg)) ;
//         this.total=this.total + this.avgCookiesPurchasedPerHour[i]
//     }


// }
// }


// Seattle.getrandomCustomer();
// Seattle.getavgCookiesPurchasedPerHour();

// console.log(Seattle);

// Seattle.typeHtml=function() {

//     let table=document.getElementById('table');
// let h2=document.createElement('h2');

// table.appendChild(h2);

// h2.textContent= this.name;

// let ul=document.createElement('ul')
// table.appendChild(ul);

// for (let i = 0; i < hours.length; i++) {
//     let li=document.createElement('li');
//     ul.appendChild(li);
//     li.textContent=`${hours[i]}  ${this.avgCookiesPurchasedPerHour[i]} cookies`

// }

// let total=document.createElement('li')
//     ul.appendChild(total);
//     total.textContent=`Total ${this.total} cookies`
// }

// Seattle.typeHtml();









// let Tokyo={

//     name: 'Tokyo' ,
//     max: 24,
//     min: 3,
//     avg: 1.2,
//     total: 0,

//     randomCustomer: [],
//     avgCookiesPurchasedPerHour:[],

// getrandomCustomer : function () {
//     for (let i = 0; i < hours.length; i++) {

//         this.randomCustomer.push( random(this.min , this.max))
//     }

// },

// getavgCookiesPurchasedPerHour : function () {
//     for (let i = 0; i < hours.length; i++) {

//         this.avgCookiesPurchasedPerHour.push(Math.ceil(this.randomCustomer[i]*this.avg)) ;
//         this.total=this.total + this.avgCookiesPurchasedPerHour[i]
//     }


// }
// }


// Tokyo.getrandomCustomer();
// Tokyo.getavgCookiesPurchasedPerHour();

// console.log(Tokyo);

// Tokyo.typeHtml=function() {

//     let table=document.getElementById('table');
// let h2=document.createElement('h2');

// table.appendChild(h2);

// h2.textContent= this.name;

// let ul=document.createElement('ul')
// table.appendChild(ul);

// for (let i = 0; i < hours.length; i++) {
//     let li=document.createElement('li');
//     ul.appendChild(li);
//     li.textContent=`${hours[i]}  ${this.avgCookiesPurchasedPerHour[i]} cookies`

// }

// let total=document.createElement('li')
//     ul.appendChild(total);
//     total.textContent=`Total ${this.total} cookies`
// }

// Tokyo.typeHtml();



// let Dubai={

//     name: 'Dubai' ,
//     max: 38,
//     min: 11,
//     avg: 3.7,
//     total: 0,

//     randomCustomer: [],
//     avgCookiesPurchasedPerHour:[],

// getrandomCustomer : function () {
//     for (let i = 0; i < hours.length; i++) {

//         this.randomCustomer.push( random(this.min , this.max))
//     }

// },

// getavgCookiesPurchasedPerHour : function () {
//     for (let i = 0; i < hours.length; i++) {

//         this.avgCookiesPurchasedPerHour.push(Math.ceil(this.randomCustomer[i]*this.avg)) ;
//         this.total=this.total + this.avgCookiesPurchasedPerHour[i]
//     }


// }
// }


// Dubai.getrandomCustomer();
// Dubai.getavgCookiesPurchasedPerHour();

// console.log(Dubai);

// Dubai.typeHtml=function() {

//     let table=document.getElementById('table');
// let h2=document.createElement('h2');

// table.appendChild(h2);

// h2.textContent= this.name;

// let ul=document.createElement('ul')
// table.appendChild(ul);

// for (let i = 0; i < hours.length; i++) {
//     let li=document.createElement('li');
//     ul.appendChild(li);
//     li.textContent=`${hours[i]}  ${this.avgCookiesPurchasedPerHour[i]} cookies`

// }

// let total=document.createElement('li')
//     ul.appendChild(total);
//     total.textContent=`Total ${this.total} cookies`
// }

// Dubai.typeHtml();



// let Paris={

//     name: 'Paris' ,
//     max: 38,
//     min: 20,
//     avg: 2.3,
//     total: 0,

//     randomCustomer: [],
//     avgCookiesPurchasedPerHour:[],

// getrandomCustomer : function () {
//     for (let i = 0; i < hours.length; i++) {

//         this.randomCustomer.push( random(this.min , this.max))
//     }

// },

// getavgCookiesPurchasedPerHour : function () {
//     for (let i = 0; i < hours.length; i++) {

//         this.avgCookiesPurchasedPerHour.push(Math.ceil(this.randomCustomer[i]*this.avg)) ;
//         this.total=this.total + this.avgCookiesPurchasedPerHour[i]
//     }


// }
// }


// Paris.getrandomCustomer();
// Paris.getavgCookiesPurchasedPerHour();

// console.log(Dubai);

// Paris.typeHtml=function() {

//     let table=document.getElementById('table');
// let h2=document.createElement('h2');

// table.appendChild(h2);

// h2.textContent= this.name;

// let ul=document.createElement('ul')
// table.appendChild(ul);

// for (let i = 0; i < hours.length; i++) {
//     let li=document.createElement('li');
//     ul.appendChild(li);
//     li.textContent=`${hours[i]}  ${this.avgCookiesPurchasedPerHour[i]} cookies`

// }

// let total=document.createElement('li')
//     ul.appendChild(total);
//     total.textContent=`Total ${this.total} cookies`
// }

// Paris.typeHtml();





// let Lima={

//     name: 'Lima' ,
//     max: 16,
//     min: 2,
//     avg: 4.6,
//     total: 0,

//     randomCustomer: [],
//     avgCookiesPurchasedPerHour:[],

// getrandomCustomer : function () {
//     for (let i = 0; i < hours.length; i++) {

//         this.randomCustomer.push( random(this.min , this.max))
//     }

// },

// getavgCookiesPurchasedPerHour : function () {
//     for (let i = 0; i < hours.length; i++) {

//         this.avgCookiesPurchasedPerHour.push(Math.ceil(this.randomCustomer[i]*this.avg)) ;
//         this.total=this.total + this.avgCookiesPurchasedPerHour[i]
//     }


// }
// }


// Lima.getrandomCustomer();
// Lima.getavgCookiesPurchasedPerHour();

// console.log(Dubai);

// Lima.typeHtml=function() {

//     let table=document.getElementById('table');
// let h2=document.createElement('h2');

// table.appendChild(h2);

// h2.textContent= this.name;

// let ul=document.createElement('ul')
// table.appendChild(ul);

// for (let i = 0; i < hours.length; i++) {
//     let li=document.createElement('li');
//     ul.appendChild(li);
//     li.textContent=`${hours[i]}  ${this.avgCookiesPurchasedPerHour[i]} cookies`

// }

// let total=document.createElement('li')
//     ul.appendChild(total);
//     total.textContent=`Total ${this.total} cookies`
// }

// Lima.typeHtml();






//////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////

// lab07// lab07// lab07// lab07// lab07// lab07// lab07// lab07// lab07// lab07


// let hours = ['6:00 Am ', '7:00 Am', '8:00 Am', '9:00 Am', '10:00 Am', '11:00 Am', '12:00 Pm', '1:00 Pm', '2:00 Pm', '3:00 Pm', '4:00 Pm', '5:00 Pm', '6:00 Pm', '7:00 Pm'];

// function Random(min, max) {
//     return Math.floor(Math.random() * (max - min + 1)) + min;
// }

// Shops = [];

// function Place(name, min, max, avg) {

//     this.name = name;
//     this.min = min;
//     this.max = max;
//     this.avg = avg;
//     this.randomCustomerPerhour = [];
//     this.avgCookiespPerHour = [];
//     this.total=0;
//     Shops.push(this);


// }

// Place.prototype.getrandomCustomerPerhour = function () {
//     for (let i = 0; i < hours.length; i++) {
//         this.randomCustomerPerhour.push(Random(this.min, this.max))

//     }

// };
// Place.prototype.getavgCookiespPerHour = function () {
//     for (let i = 0; i < hours.length; i++) {

//         this.avgCookiespPerHour.push(this.randomCustomerPerhour[i] * this.avg)

//         this.total=this.total + this.avgCookiespPerHour[i]
//     }


// };


// let Seattle = new Place('Seattle', 3, 5, 4)
// let Tokyo = new Place('Tokyo', 3, 7, 4)
// let Dubai = new Place('Dubai', 3, 8, 4)
// let Paris = new Place('Paris', 3, 9, 4)
// let Lima = new Place('Lima', 3, 5, 4)
// let Amman = new Place('Amman', 5, 8, 7)


// let lab07 = document.getElementById('lab07')
// let table = document.createElement('table')

// lab07.appendChild(table)

// // HEADER


// let tr = document.createElement('tr')
// table.appendChild(tr)


// function Header() {


// let th = document.createElement('th')
// tr.appendChild(th)
// th.textContent = 'Name'





// for (let i = 0; i < hours.length; i++) {


//     let th = document.createElement('th')
//     tr.appendChild(th);

//     th.textContent = hours[i];

// }

// let Daily=document.createElement('th')
// tr.appendChild(Daily)
// Daily.textContent='Daily Total'
// }


// // RENDER
// Place.prototype.render=function () {
//     let tr=document.createElement('tr')
//     table.appendChild(tr)
//     let td=document.createElement('th')
//     tr.appendChild(td)
//     td.textContent=this.name

//     for (let i = 0; i < hours.length; i++) {
//         let td=document.createElement('td')
//         tr.appendChild(td)
//         td.textContent=this.avgCookiespPerHour[i]

//     }

//     let last=document.createElement('th')
//     tr.appendChild(last)
//     last.textContent=this.total



// }



// // footer

// function footer() {
//     let lastrow=document.createElement('tr')
//     table.appendChild(lastrow)
//     th=document.createElement('th')
//     lastrow.appendChild(th)
//     th.textContent='Total'
//     totaloftotals=0;

//     for (let i = 0; i < hours.length; i++) {
//         totalPerHour=0
//         for (let j = 0; j < Shops.length; j++) {
//           totalPerHour=totalPerHour + this.Shops[j].avgCookiespPerHour[i]
//           totaloftotals=totaloftotals+  this.Shops[j].avgCookiespPerHour[i]

//         }
//         let td=document.createElement('th')
//         lastrow.appendChild(td)
//         td.textContent=totalPerHour

//     }
//     let lastele=document.createElement('th')
//     lastrow.appendChild(lastele)
//     lastele.textContent=totaloftotals


// }






// console.log(lab07);




// Header();

// for (let i = 0; i < Shops.length; i++) {

//     Shops[i].getrandomCustomerPerhour();
//     Shops[i].getavgCookiespPerHour();
//     Shops[i].render();

// }
// footer();


// console.log(Shops);





//////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////

// REWORK  // REWORK  // REWORK  // REWORK  // REWORK  // REWORK  // REWORK  // REWORK  // REWORK  




let hours = ['6:00 Am', '7:00 Am', '8:00 Am', '9:00 Am', '10:00 Am', '11:00 Am', '12:00 Pm', '1:00 Pm', '2:00 Pm', '3:00 Pm', '4:00 Pm', '5:00 Pm', '6:00 Pm', '7:00 Pm',];

function Random(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

let allShops = [];

function Shops(name, max, min, avg) {


    this.name = name;
    this.max = max;
    this.min = min;
    this.avg = avg;
    this.randomCustomerPerHour = [];
    this.avgCookiesPerHour = [];
    allShops.push(this);
    this.total = 0



}

Shops.prototype.getrandomCustomerPerHour = function () {
    for (let i = 0; i < hours.length; i++) {
        this.randomCustomerPerHour.push(Random(this.min, this.max))

    }


};

Shops.prototype.getavgCookiesPerHour = function () {
    for (let i = 0; i < hours.length; i++) {
        this.avgCookiesPerHour.push(Math.floor(this.randomCustomerPerHour[i] * this.avg));

        this.total = this.total + this.avgCookiesPerHour[i];

    }


};

let Seattle = new Shops('Seattle', 9, 3, 5)
let Tokyo = new Shops('Tokyo', 8, 3, 4)
let Dubai = new Shops('Dubai', 7, 3, 3)
let Paris = new Shops('Paris', 6, 3, 3)
let Lima = new Shops('Lima', 5, 3, 3)




console.log(allShops);

/////////////////////////////////////////

let rework = document.getElementById('rework')

let table = document.createElement('table')
table.setAttribute('id','table')

rework.appendChild(table)


// Make Header

function Header() {

    let tr = document.createElement('tr')
    table.appendChild(tr)
    let th = document.createElement('th')
    tr.appendChild(th)
    th.textContent = 'Name'

    for (let i = 0; i < hours.length; i++) {
        let hoursTh = document.createElement('th')
        tr.appendChild(hoursTh)
        hoursTh.textContent = hours[i]

    }
    let lastele = document.createElement('th')
    tr.appendChild(lastele)
    lastele.textContent = 'Daily Total'


}


// Render
Shops.prototype.Render = function () {


    let tr = document.createElement('tr')
    table.appendChild(tr)
    let firstTh = document.createElement('th')
    tr.appendChild(firstTh)
    firstTh.textContent = this.name

    for (let i = 0; i < hours.length; i++) {
        let avgTd = document.createElement('td')
        tr.appendChild(avgTd)
        avgTd.textContent = this.avgCookiesPerHour[i]

    }

    let lasrAvgele = document.createElement('th')
    tr.appendChild(lasrAvgele)
    lasrAvgele.textContent = this.total

}


    

    


// Footer



function Footer() {
    let footerTr = document.createElement('tr')
    table.appendChild(footerTr)
    let footerTh = document.createElement('th')
    footerTr.appendChild(footerTh)
    footerTh.textContent = 'Total'
    let totaloftotals = 0

    for (let i = 0; i < hours.length; i++) {
        let totalCookiesPerHourForAllShops = 0

        for (let j = 0; j < allShops.length; j++) {
            totalCookiesPerHourForAllShops += allShops[j].avgCookiesPerHour[i]
            totaloftotals += allShops[j].avgCookiesPerHour[i]


        }
        let totalTh = document.createElement('th')
        footerTr.appendChild(totalTh)
        totalTh.textContent = totalCookiesPerHourForAllShops


    }


    let lastelemnt = document.createElement('th')
    footerTr.appendChild(lastelemnt)
    lastelemnt.textContent = totaloftotals




}


Header();

for (let i = 0; i < allShops.length; i++) {
    allShops[i].getrandomCustomerPerHour();
    allShops[i].getavgCookiesPerHour();
    allShops[i].Render();

}
Footer();

console.log(table);


///////////////////////////

let form = document.getElementById('form');
form.addEventListener('submit', formSubmitter);

function deleteRow() {
    
   document.getElementById("table").deleteRow(-1)
}


function formSubmitter(event) {
    event.preventDefault();
    console.log(event);
  

    let name = event.target.Namefield.value
    let max = event.target.MaxField.value
    let min = event.target.MinField.value
    let avg = event.target.AvgField.value 
    

    let customerShop = new Shops(name, max, min, avg)
    deleteRow();
    customerShop.getrandomCustomerPerHour();
    customerShop.getavgCookiesPerHour();
    customerShop.Render();

    Footer();

}
